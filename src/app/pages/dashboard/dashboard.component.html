<div class="container-fluid">
  <!-- Stats -->
  <div class="row g-3 g-md-4 mb-3">
    <div class="col-6 col-md-3" *ngFor="let c of statCards">
      <div class="card card-soft p-3 h-100">
        <div class="d-flex align-items-center justify-content-between mb-2">
          <div class="d-flex align-items-center gap-2">
            <i class="bi" [ngClass]="c.icon"></i>
            <span class="fw-semibold fs-5">{{ c.value }}</span>
          </div>
          <span class="badge bg-light text-success badge-soft">{{ c.badge }}</span>
        </div>
        <div class="fs-3 fw-bold">{{ c.title  }}</div>
      </div>
    </div>
  </div>

  <!-- Charts + Recent -->
  <div class="row g-3 g-md-4 Charts">
    <div class="col-12 col-xl-8">
      <div class="card card-soft p-3 h-100">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="m-0">Students Over Time</h6>
          <select class="form-select form-select-sm" style="width:160px;">
            <option>Last 6 weeks</option>
            <option>Last 3 months</option>
          </select>
        </div>
        <div style="height:300px"><canvas id="studentsChart"></canvas></div>
      </div>
    </div>

    <div class="col-12 col-xl-4 Recent">
      <div class="card card-soft p-3 h-100">
        <h6 class="mb-3">Recent Courses</h6>
        <div class="table-responsive">
          <table class="table table-sm align-middle table-nowrap">
            <thead><tr><th>Course</th><th>Lessons</th><th>Status</th></tr></thead>
            <tbody>
              <tr *ngFor="let r of recentCourses">
                <td>{{ r.name }}</td>
                <td>{{ r.lessons }}</td>
                <td>
                  <span class="badge" [class.bg-success]="r.status==='Published'"
                        [class.bg-secondary]="r.status!=='Published'">{{ r.status }}</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Categories bar + Top instructors -->
    <div class="col-12 col-xxl-6">
      <div class="card card-soft p-3 h-100">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="m-0">Courses by Category</h6>
          <button class="btn btn-sm btn-outline-secondary">Export</button>
        </div>
        <div style="height:260px"><canvas id="coursesBar"></canvas></div>
      </div>
    </div>

    <div class="col-12 col-xxl-6">
      <div class="card card-soft p-3 h-100">
        <h6 class="mb-3">Top Instructors</h6>
        <div class="table-responsive">
          <table class="table table-sm align-middle mb-0 table-nowrap">
            <thead><tr><th>Instructor</th><th>Courses</th><th>Students</th></tr></thead>
            <tbody>
              <tr *ngFor="let t of topInstructors">
                <td>{{ t.name }}</td><td>{{ t.courses }}</td><td>{{ t.students }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Latest quiz results -->
    <div class="col-12">
      <div class="card card-soft p-3">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="m-0">Latest Quiz Results</h6>
          <div class="d-flex gap-2">
            <input class="form-control form-control-sm" placeholder="Filter student...">
            <button class="btn btn-sm btn-primary">View all</button>
          </div>
        </div>
        <div class="table-responsive">
          <table class="table table-hover align-middle mb-0">
            <thead class="table-light">
              <tr><th>Student</th><th>Quiz</th><th>Score</th><th>Status</th></tr>
            </thead>
            <tbody>
              <tr *ngFor="let r of latestResults">
                <td>{{ r.student }}</td>
                <td>{{ r.quiz }}</td>
                <td>{{ r.score }}%</td>
                <td>
                  <span class="badge" [class.bg-success]="r.score>=80" [class.bg-warning]="r.score<80 && r.score>=60"
                        [class.bg-danger]="r.score<60">
                    {{ r.score>=80?'Pass':'Review' }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </div>
</div>
