<div class="container-fluid">
  <!-- Header -->
  <div class="d-flex flex-wrap justify-content-between align-items-center mb-4 gap-3">
    <h4 class="fw-bold mb-0">Student Results</h4>

    <div class="d-flex flex-wrap align-items-center gap-2">
      <input type="text" [(ngModel)]="searchTerm" placeholder="Search student..."
             class="form-control form-control-sm" style="width: 220px;">

      <select class="form-select form-select-sm" [(ngModel)]="selectedCourse" style="width: 160px;">
        <option value="All">All Courses</option>
        <option value="Angular Basics">Angular Basics</option>
        <option value="TypeScript Advanced">TypeScript Advanced</option>
        <option value="JavaScript Intro">JavaScript Intro</option>
      </select>

      <select class="form-select form-select-sm" [(ngModel)]="selectedStatus" style="width: 160px;">
        <option value="All">All Statuses</option>
        <option value="Passed">Passed</option>
        <option value="Failed">Failed</option>
      </select>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="row g-3 mb-4">
    <div class="col-md-4 col-sm-6">
      <div class="card card-soft p-3 text-center">
        <h6 class="text-muted">Total Students</h6>
        <h4 class="fw-bold mb-0">{{ stats.total }}</h4>
      </div>
    </div>
    <div class="col-md-4 col-sm-6">
      <div class="card card-soft p-3 text-center">
        <h6 class="text-muted">Passed</h6>
        <h4 class="fw-bold mb-0 text-success">{{ stats.passed }}</h4>
      </div>
    </div>
    <div class="col-md-4 col-sm-6">
      <div class="card card-soft p-3 text-center">
        <h6 class="text-muted">Average Score</h6>
        <h4 class="fw-bold mb-0 text-primary">{{ stats.avgScore }}%</h4>
      </div>
    </div>
  </div>

  <!-- Results Table -->
  <div class="card card-soft p-3">
    <div class="table-responsive">
      <table class="table align-middle">
        <thead>
          <tr>
            <th>Student</th>
            <th>Course</th>
            <th>Score</th>
            <th>Status</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let r of filteredResults">
            <td>{{ r.student }}</td>
            <td>{{ r.course }}</td>
            <td>{{ r.score }}%</td>
            <td>
              <span class="badge"
                    [class.bg-success]="r.status === 'Passed'"
                    [class.bg-danger]="r.status === 'Failed'">
                {{ r.status }}
              </span>
            </td>
            <td>{{ r.date }}</td>
          </tr>

          <tr *ngIf="filteredResults.length === 0">
            <td colspan="5" class="text-center text-muted py-3">No results found.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
